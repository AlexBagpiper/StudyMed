<!-- app/templates/student/results_list.html -->
{% extends "base.html" %}

{% block title %}{{ _('Результаты тестов') }} - {{ get_app_name }}{% endblock %}

{% block content %}
<h2>{{ _('Результаты тестов') }}</h2>

{% if results %}
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>{{ _('Тест') }}</th>
                    <th>{{ _('Балл') }}</th>
                    <th>{{ _('Дата завершения') }}</th>
                    <th>{{ _('Продолжительность') }}</th>
                    <th>{{ _('Действия') }}</th>
                </tr>
            </thead>
            <tbody>
                {% for result in results %}
                    <tr>
                        <td>{{ result.test.title if result.test else _('N/A') }}</td>
                        <td>{{ "%.2f"|format(result.score * 100) }}%</td>
                        <td>{{ result.completed_at.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                        <td>{{ result.duration_seconds or _('N/A') }}s</td>
                        <td>
                            <a href="{{ url_for('student.view_result_detail', result_id=result.id) }}" class="btn btn-primary btn-sm">{{ _('Детали') }}</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% else %}
    <p class="text-center text-muted">{{ _('Вы еще не прошли ни одного теста') }}</p>
{% endif %}
{% endblock %}